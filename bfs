#include<iostream.h>
#include<conio.h>

void main()
{
    clrscr(); // Clear the screen

    int i, j, k, v, iv, ed, t, stk[10], a[10][10];

    cout<<"Enter number of vertices\n";
    cin>>v; // Input number of vertices

    cout<<"Enter number of edges\n";
    cin>>ed; // Input number of edges

    cout<<"Enter all edges\n";
    for(k = 1; k <= ed; k++)
    {
        cin>>i>>j;
        a[i][j] = 1; // Mark the edge in adjacency matrix representation
    }

    cout<<"Enter initial vertex\n";
    cin>>iv; // Input the initial vertex to start DFS

    cout<<iv<<" ";
    k = 1;
    while(k < v)
    {
        for(j = v; j >= 1; j--)
        {
            if(a[iv][j] != 0)
            {
                stk[t] = j; // Push adjacent vertices to stack
                t++;
            }
        }
        iv = stk[--t]; // Pop the top element from stack
        cout<<iv<<" ";
        k++;
        getch(); // Wait for user input to continue
    }
}
